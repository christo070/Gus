version: "3.1"

stories:

- story: stop table reservation form + exit
  steps:
  - intent: request_table_reservation
  - action: table_reservation_form
  - active_loop: table_reservation_form
  - intent: exit
  - action: utter_ask_continue
  - intent: deny
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_table_reservation_unsuccessful

- story: stop table reservation form + continue + table available
  steps:
  - intent: request_table_reservation
  - action: table_reservation_form
  - active_loop: table_reservation_form
  - intent: exit
  - action: utter_ask_continue
  - intent: affirm
  - action: table_reservation_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_check_table_availability
  - slot_was_set:
    - table_availability: yes
  - action: action_reserve_table
  - or:
    - intent: affirm
    - intent: thanks
  - action: 

- story: stop table reservation form + continue + table unavailable
  steps:
  - intent: request_table_reservation
  - action: table_reservation_form
  - active_loop: table_reservation_form
  - intent: exit
  - action: utter_ask_continue
  - intent: affirm
  - action: table_reservation_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_check_table_availability
  - slot_was_set:
    - table_availability: no
  - action: utter_reservation_housefull


# - story: Show Menu
#   steps:
#   - intent: ask_menu
#   - action: action_display_menu
#   - intent: select_menu_category
#   - action: action_tell_menu_items

# - story: Recommend Dishes 1
#   steps:
#   - intent: get_recommendations
#   - action: action_display_menu
#   - intent: select_menu_category
#   - action: action_recommend_dishes

# - story: Recommend Dishes 2
#   steps:
#   - intent: ask_menu
#   - action: action_display_menu
#   - intent: get_recommendations
#   - action: action_recommend_dishes




